pip install requests parsel lxml beautifulsoup4 google-search-results
shiny::runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/tabset_1')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
library(writexl)
install.packages(writexl)
"writexl"
install.packages("writexl")
library(writexl)
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
install.packages("openxlsx")
install.packages("openxlsx")
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
shiny::runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/BibloBox')
library(openalexR)
library(dplyr)
library(ggplot2)
options(openalexR.mailto = "pnriddle@dal.ca")
oa_fetch(
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2020-01-01",
to_publication_date = "2021-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
) %>%
show_works() %>%
knitr::kable()
data <- oa_fetch(
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2020-01-01",
to_publication_date = "2021-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
) %>%
show_works() %>%
knitr::kable()
data <- oa_fetch(
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2020-01-01",
to_publication_date = "2021-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
View(data)
View(data)
data <- oa_fetch(
issn_l = "1932-6203",
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
help("openalexR")
data <- oa_fetch(
venue = "1932-6203",
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
help("oa_fetch")
data <- oa_fetch(
identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis", "science mapping"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
library(openalexR)
library(dplyr)
library(ggplot2)
options(openalexR.mailto = "pnriddle@dal.ca")
data <- oa_fetch(
identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
identifier = "V202381698",
#entity = "works",
entity = if (is.null(identifier)) NULL else id_type(identifier[[1]]),
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
identifier = "V202381698",
#entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
View(data)
View(data)
data <- oa_fetch(
identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
#identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data <- oa_fetch(
#identifier = "V202381698",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
View(data)
View(data)
View(data[[28]][[1]])
data_picard <- oa_fetch(
identifier = "A687641213",
entity = "works",
title.search = c("bibliometric analysis"),
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data_picard <- oa_fetch(
identifier = "A687641213",
entity = "works",
title.search = "bibliometric analysis",
#cited_by_count = ">50",
from_publication_date = "2012-01-01",
to_publication_date = "2022-12-31",
sort = "cited_by_count:desc",
verbose = TRUE
)
data_picard <- oa_fetch(
identifier = c("A687641213"),
verbose = TRUE
)
data_picard <- oa_fetch(
identifier = c("A687641213"),
entity = "works",
verbose = TRUE
)
View(data_picard)
View(data_picard)
View(data_picard[[5]][[1]])
View(data)
data_picard <- oa_fetch(
identifier = c("A687641213"),
entity = "works",
abstract = TRUE,
verbose = TRUE
)
data_picard <- oa_fetch(
identifier = c("A687641213"),
entity = "venues",
abstract = TRUE,
verbose = TRUE
)
data_picard <- oa_fetch(
identifier = c("A687641213"),
#entity = "works",
abstract = TRUE,
verbose = TRUE
)
View(data_picard)
View(data_picard)
View(data_picard[[5]][[1]])
View(data_picard[[9]][[1]])
setwd("~/Documents/GitHubhttps:/github.com/poppy-nicolette/ShinyShiny/ShinyShiny/BibloBox")
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
# setwd("C:/Users/Philippe/Documents/GitHub/ShinyShiny/BibloBox")
library(dplyr)
library(stringr)
library(readxl)
library(openalexR)
options(openalexR.mailto = "pmongeon@dal.ca")
template <- read_excel("template_info6850.xlsx", sheet = 2) %>%
mutate(doi = str_sub(doi, str_locate(doi,"10.")[,1])) %>%
mutate(openalex_id = str_sub(openalex_id, str_locate(openalex_id,"W")[,1]))
for (i in 1:nrow(template)) {
doi<-""
id<-""
doi<-template[i,]$doi[!is.na(template[i,]$doi)]
id<-template[i,]$openalex_id[!is.na(template[i,]$openalex_id)]
data <- tibble()
data_doi <- tibble()
data_id <- tibble()
if(length(doi)>0) {
data <- oa_fetch(doi = doi,entity = "works", verbose = TRUE, abstract = TRUE)
} else if (length(id)>0) {
data <- oa_fetch(identifier = id, entity = "works", verbose = TRUE, abstract = TRUE)
}
if(length(data)>0){
template[i,]$doi <- data$doi
template[i,]$openalex_id <- data$id
template[i,]$pub_year <- data$publication_year
template[i,]$title <- data$display_name
template[i,]$authors <- paste(shQuote(data$author[[1]]$au_display_name), collapse=", ")
template[i,]$openalex_author_ids <- paste(shQuote(data$author[[1]]$au_id), collapse=", ")
template[i,]$source <- data$so
template[i,]$volume <- data$volume
template[i,]$number <- data$issue
if(data$first_page == data$last_page) {pages <- data$first_page} else {pages <- paste(data$first_page,"-",data$last_page, sep = "")}
template[i,]$pages <- pages
template[i,]$institutions <- paste(shQuote(unique(data$author[[1]]$institution_display_name)), collapse=", ")
template[i,]$openalex_institution_ids <- paste(shQuote(unique(data$author[[1]]$institution_id)), collapse=", ")
template[i,]$countries <- paste(shQuote(unique(data$author[[1]]$institution_country_code)), collapse=", ")
template[i,]$authors_affiliations <- paste(shQuote(paste(data$author[[1]]$au_id," [",data$author[[1]]$institution_id,"]",sep="")), collapse=", ")
template[i,]$abstract <- data$ab
template[i,]$wikidata_concepts <- paste(shQuote(data$concepts[[1]]$display_name), collapse=", ")
}
}
shiny::runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/Bibliobox2')
runApp('~/Desktop/CODING_WORKING/R/PROJECTS/shiny/Bibliobox2')
setwd("~/Documents/GitHubhttps:/github.com/poppy-nicolette/ShinyShiny/ShinyShiny/Bibliobox2")
# setwd("C:/Users/Philippe/Documents/GitHub/ShinyShiny/BibloBox")
library(dplyr)
library(stringr)
library(readxl)
library(openalexR)
options(openalexR.mailto = "pmongeon@dal.ca")
file="/Users/nicolapoppy/Desktop/template_info6850.xlsx"
template <- read_excel(file, sheet = 2) %>%
mutate(doi = str_sub(doi, str_locate(doi,"10.")[,1])) %>%
mutate(openalex_id = str_sub(openalex_id, str_locate(openalex_id,"W")[,1]))
for (i in 1:nrow(template)) {
doi<-""
id<-""
doi<-template[i,]$doi[!is.na(template[i,]$doi)]
id<-template[i,]$openalex_id[!is.na(template[i,]$openalex_id)]
data <- tibble()
data_doi <- tibble()
data_id <- tibble()
if(length(doi)>0) {
data <- oa_fetch(doi = doi,entity = "works", verbose = TRUE, abstract = TRUE)
} else if (length(id)>0) {
data <- oa_fetch(identifier = id, entity = "works", verbose = TRUE, abstract = TRUE)
}
if(length(data)>0){
template[i,]$doi <- data$doi
template[i,]$openalex_id <- data$id
template[i,]$pub_year <- data$publication_year
template[i,]$title <- data$display_name
template[i,]$authors <- paste(shQuote(data$author[[1]]$au_display_name), collapse=", ")
template[i,]$openalex_author_ids <- paste(shQuote(data$author[[1]]$au_id), collapse=", ")
template[i,]$source <- data$so
template[i,]$volume <- data$volume
template[i,]$number <- data$issue
if(data$first_page == data$last_page) {pages <- data$first_page} else {pages <- paste(data$first_page,"-",data$last_page, sep = "")}
template[i,]$pages <- pages
template[i,]$institutions <- paste(shQuote(unique(data$author[[1]]$institution_display_name)), collapse=", ")
template[i,]$openalex_institution_ids <- paste(shQuote(unique(data$author[[1]]$institution_id)), collapse=", ")
template[i,]$countries <- paste(shQuote(unique(data$author[[1]]$institution_country_code)), collapse=", ")
template[i,]$authors_affiliations <- paste(shQuote(paste(data$author[[1]]$au_id," [",data$author[[1]]$institution_id,"]",sep="")), collapse=", ")
template[i,]$abstract <- data$ab
template[i,]$wikidata_concepts <- paste(shQuote(data$concepts[[1]]$display_name), collapse=", ")
}
}
setwd("~/Documents/GitHubhttps:/github.com/poppy-nicolette/ShinyShiny/ShinyShiny/BibloBox")
# setwd("C:/Users/Philippe/Documents/GitHub/ShinyShiny/BibloBox")
library(dplyr)
library(stringr)
library(readxl)
library(openalexR)
options(openalexR.mailto = "pmongeon@dal.ca")
file="template_info6850_fail.xlsx"
template <- read_excel(file, sheet = 2) %>%
mutate(doi = str_sub(doi, str_locate(doi,"10.")[,1])) %>%
mutate(openalex_id = str_sub(openalex_id, str_locate(openalex_id,"W")[,1]))
for (i in 1:nrow(template)) {
doi<-""
id<-""
doi<-template[i,]$doi[!is.na(template[i,]$doi)]
id<-template[i,]$openalex_id[!is.na(template[i,]$openalex_id)]
data <- tibble()
data_doi <- tibble()
data_id <- tibble()
if(length(doi)>0) {
data <- oa_fetch(doi = doi,entity = "works", verbose = TRUE, abstract = TRUE)
} else if (length(id)>0) {
data <- oa_fetch(identifier = id, entity = "works", verbose = TRUE, abstract = TRUE)
}
if(length(data)>0){
template[i,]$doi <- data$doi
template[i,]$openalex_id <- data$id
template[i,]$pub_year <- data$publication_year
template[i,]$title <- data$display_name
template[i,]$authors <- paste(shQuote(data$author[[1]]$au_display_name), collapse=", ")
template[i,]$openalex_author_ids <- paste(shQuote(data$author[[1]]$au_id), collapse=", ")
template[i,]$source <- data$so
template[i,]$volume <- data$volume
template[i,]$number <- data$issue
#*******************************
#source: https://www.statology.org/r-missing-value-where-true-false-needed/
#ERROR:Error in if (data$first_page == data$last_page) { :
#missing value where TRUE/FALSE needed
#********************************
if(data$first_page == data$last_page) {pages <- data$first_page} else {pages <- paste(data$first_page,"-",data$last_page, sep = "")}
template[i,]$pages <- pages
template[i,]$institutions <- paste(shQuote(unique(data$author[[1]]$institution_display_name)), collapse=", ")
template[i,]$openalex_institution_ids <- paste(shQuote(unique(data$author[[1]]$institution_id)), collapse=", ")
template[i,]$countries <- paste(shQuote(unique(data$author[[1]]$institution_country_code)), collapse=", ")
template[i,]$authors_affiliations <- paste(shQuote(paste(data$author[[1]]$au_id," [",data$author[[1]]$institution_id,"]",sep="")), collapse=", ")
template[i,]$abstract <- data$ab
template[i,]$wikidata_concepts <- paste(shQuote(data$concepts[[1]]$display_name), collapse=", ")
}
}
